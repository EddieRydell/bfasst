# Scripts #

## fork ##

+ runs the iCEcube2 flow with Synopsis Synplify Pro
+ Builds designs from the ipassureance_designs directory in icemachine/examples

+ Call from ipassureance_designs/ooc or /base directory.

+ Call with the icemachine base directory and directory to target
+ ```fork.sh <target dir tree> <iCEcube2 install dir>```
+ note this spins up a new process for each directory it finds
+ and takes *_FOREVER_* to run 
+ creates a file called ```out.txt``` that lists successful design runs(successfully generated a bitstream)

## extract ##

+ runs the icestorm flow (extracts the bitstreams to a Verilog netlist)
+ ```usage: extract <ooc directory> <design list> <failure file>```
+ ooc directory is root directory of all the target designs
+ the design list comes from the ```fork``` script

## gather_all_sources ##
+ Cadence Conformal *_UGH_* only runs on Red Hat.
+ This script copies all icestorm outputs to a remote host
+ ```gather_all_sources <list-of-successful-designs> <path-to-ooc-directory> <remote-host>```
+ remove any designs that failed the IceStorm flow from the list of resutls to copy to the remote host

## gendo ##
+ generates dofiles for consumption by Conformal
+ wrapper around python scripts to generate specific tests (a1, a4, etc)
+ ```gendo <path-to-design-targets> <path-to-python-script> ```
+ make sure you name each dofile according to what the test is

## rundo ##
+ runs the dofiles generated by ```gendo```
+ ```rundo <path-to-targets> <name-of-dofiles>```
+ script must give unique dofile name (ex: ```dofile_no_events.do```)
+ ```rundo``` writes the Conformal output to a ```.log``` file corresponding to the dofile (ex: ```dofile_no_events.log```)

## compile results ##
+ reads the ```.log``` files generated by ```rundo``` and outputs the results (unmapped points, non-equivalencies, etc)
+ ```compile_results <path_to_top_results_directory> <name_of_results_file>```
+ results are written to ```results```. Yes, UNIX is extensionless.

## fixice ##
+ Lattice gives out licenses that correspond to MAC addresses, and the way Ubuntu handles network interfaces doesn't work.
+ when your interfaces aren't configured correctly, the GUI gives an explicit message
+ on the command line, it just decides not to work and doesn't say why
+ this script hacks things together
+ run ```fixice``` as sudo after every reboot




  


